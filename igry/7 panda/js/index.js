function _toConsumableArray(a){if(Array.isArray(a)){for(var c=0,b=Array(a.length);c<a.length;c++){b[c]=a[c]}return b}else{return Array.from(a)}}var container=document.querySelector(".container");var keys=document.querySelectorAll(".key");var panda=document.querySelector(".panda");var eyes=document.querySelectorAll(".eye");var features=document.querySelectorAll(".feature");var leftear=document.querySelector(".leftear");var rightear=document.querySelector(".rightear");var mouth=document.querySelector(".mouth");var synth=new Tone.Synth();var gain=new Tone.Gain(0.5);gain.toMaster();synth.connect(gain);var calcValue=function calcValue(a,b){return(a/b*limit-limit/2).toFixed(1)};var setContainerSize=function setContainerSize(){var a=window.innerHeight/100*90;if(a>window.innerWidth){a=window.innerWidth/100*90}container.style.height=a+"px";container.style.width=a+"px"};setContainerSize();[].concat(_toConsumableArray(keys)).forEach(function(a){a.addEventListener("mouseover",function(){return sing(a.dataset.note)});a.addEventListener("click",function(){return sing(a.dataset.note)})});var singTimeout=void 0;var sing=function sing(a){if(singTimeout){clearTimeout(singTimeout)}synth.triggerAttackRelease(a,"12n");mouth.setAttribute("ry","10");singTimeout=setTimeout(function(){mouth.setAttribute("ry","3")},300)};var resizeTimeout=void 0;window.addEventListener("resize",function(){if(resizeTimeout){window.cancelAnimationFrame(resizeTimeout)}resizeTimeout=window.requestAnimationFrame(function(){setContainerSize()})},false);var limit=15;var timeout=void 0;window.addEventListener("mousemove",function(a){if(timeout){window.cancelAnimationFrame(timeout)}panda.classList.remove("idle");timeout=window.requestAnimationFrame(function(){var b=calcValue(a.x,window.innerWidth);var c=calcValue(a.y,window.innerHeight);[].concat(_toConsumableArray(features)).forEach(function(d){d.style.transform="translateX("+b+"px) translateY("+c+"px)"});[].concat(_toConsumableArray(eyes)).forEach(function(d){d.setAttribute("ry","7.5");d.style.transform="translateX("+b*2+"px) translateY("+c*2+"px)"});leftear.style.transform="translateX("+-b*0.7+"px) translateY("+-c*0.7+"px)";rightear.style.transform="translateX("+-b*0.7+"px) translateY("+-c*0.7+"px)"})},false);